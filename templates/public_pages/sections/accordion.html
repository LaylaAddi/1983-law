{% comment %}
Accordion/FAQ section template partial.
Data format: [{"question": "...", "answer": "..."}]
{% endcomment %}

<section class="{{ section.get_background_class }} {{ section.css_class }}">
    <div class="container">
        {% if section.title %}
        <div class="text-center mb-5">
            <h2 class="section-title">{{ section.title }}</h2>
            {% if section.subtitle %}
            <p class="section-subtitle centered">{{ section.subtitle }}</p>
            {% endif %}
        </div>
        {% endif %}

        {% if section.data %}
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="accordion" id="accordion-{{ section.id }}">
                    {% for item in section.data %}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="heading-{{ section.id }}-{{ forloop.counter }}">
                            <button class="accordion-button {% if not forloop.first %}collapsed{% endif %}" type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#collapse-{{ section.id }}-{{ forloop.counter }}"
                                    aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}"
                                    aria-controls="collapse-{{ section.id }}-{{ forloop.counter }}">
                                {{ item.question }}
                            </button>
                        </h2>
                        <div id="collapse-{{ section.id }}-{{ forloop.counter }}"
                             class="accordion-collapse collapse {% if forloop.first %}show{% endif %}"
                             aria-labelledby="heading-{{ section.id }}-{{ forloop.counter }}"
                             data-bs-parent="#accordion-{{ section.id }}">
                            <div class="accordion-body">
                                {{ item.answer|safe }}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</section>
